<mat-drawer-container>
  <mat-drawer mode="over" [opened]="sideBarOpen">
    <!-- <mat-drawer mode="side" opened="true"> -->
    <app-sidenav></app-sidenav>
  </mat-drawer>
  <mat-drawer-content>
    <app-header (toggleSidebarForMe)="sideBarToggler()"></app-header>
<div class="container-fluid page">
  <div class="d-flex page__box p-3 mt-2">Members</div>
  <div class="page__content shadow p-3 position-relative">
   

  
<div fxLayout="row" fxLayoutAlign="end center"  >
  <button (click)="open(mymodal)" mat-button color="primary" > <mat-icon>add </mat-icon> Create New  </button>
</div>

<!-- <mat-form-field appearance="standard">
  <mat-label>Filter</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
</mat-form-field> -->

<div class="content" >
 
  
  <div class="table-responsive-sm mb-0" id="div">
      <table class="table table-striped" >
          <thead>
              <tr style=" color: #94a3b8 ;" >
                
                  <th scope="col" class="h4">Id</th>
                  <th scope="col" class="h4">Cin</th>
                  <th scope="col" class=" h4" >Nom</th>   
                  <th scope="col" class=" h4" >Prenom</th>    
 
                                   
                  <th scope="col" class="th-lg h4" style="text-align:right ">Cv</th>
                  <th scope="col" class="th-lg h4" style="text-align:right">Email</th>
                  <th scope="col" class="th-lg h4" style="text-align:right">Date naissance</th>
                  <th scope="col" class="th-lg h4" style="text-align:right"></th>         
         
                


              </tr>
                                     
          </thead>
          <tbody>
              <tr *ngFor="let element of dataSource ;">
                  <th   scope="row">{{ element.id }}</th>
                  <th>{{ element.cin }}</th>
                  <th>{{ element.nom }}</th>
                  <th class="th-xs ml-0" style="text-align:right;" > {{ element.prenom }}</th>
                  <th class ="th-lg"style="text-align:right; font-weight: normal;o" >  <a [href]="element.cv" target="_blank">
                    <mat-icon>picture_as_pdf</mat-icon>
                  </a></th>
                  <th style="text-align:right;">{{ element.email }}</th>
                  <th style="text-align:right;font-weight: normal;">{{element.date}}</th>
                  <th style="text-align:right;font-weight: normal;"> <button mat-button  (click)="openformtoedit(editmodal,element.id)"> <mat-icon>edit</mat-icon> </button><button mat-button (click)="ONDelete(element.id)" > <mat-icon>delete</mat-icon> </button></th>

                  

              </tr>
          </tbody>
          
          
      </table>


  </div>
 

  

</div> 
    


<ng-template #mymodal let-modal>
  <div class="modal-header text-center">
    <h2 class="modal-title w-100" id="modal-basic-title">Add Member</h2>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="form">
     

      <div class="row">
        <div class="form-group col-md-6">
          <div class="form-group">
            <label for="cin">Cin</label>
            <input formControlName="cin" type="cin" class="form-control" id="cin">
            <!-- <small *ngIf="ajouterPaiement.get('date').invalid && ajouterPaiement.get('date').touched"
              class="text-danger">La date est obligatoire</small> -->

          </div>
        </div>
        <div class="form-group col-md-6">
          <div class="form-group">
            <label for="nom">Nom</label>
            <input formControlName="nom" type="nom" class="form-control" id="nom">
            <!-- <small *ngIf="ajouterPaiement.get('date_effet').invalid && ajouterPaiement.get('date_effet').touched"
              class="text-danger">La date est obligatoire</small> -->
          </div>
        </div>
        <div class="form-group col-md-6">
          <div class="form-group">
            <label for="prenom">Prenom</label>
            <input formControlName="prenom" type="prenom" class="form-control" id="prenom">
            <!-- <small *ngIf="ajouterPaiement.get('date_effet').invalid && ajouterPaiement.get('date_effet').touched"
              class="text-danger">La date est obligatoire</small> -->
          </div>
        </div>

      </div>


      <div class="row">
        <div class="form-group col-md-6">
          <div class="form-group">
            <label for="cv">Cv</label>
            <input formControlName="cv" type="cv" class="form-control" id="cv">
            <!-- <small *ngIf="ajouterPaiement.get('date').invalid && ajouterPaiement.get('date').touched"
              class="text-danger">La date est obligatoire</small> -->

          </div>
        </div>
        <div class="form-group col-md-6">
          <div class="form-group">
            <label for="email">Email</label>
            <input formControlName="email" type="email" class="form-control" id="email">
            <!-- <small *ngIf="ajouterPaiement.get('date_effet').invalid && ajouterPaiement.get('date_effet').touched"
              class="text-danger">La date est obligatoire</small> -->
          </div>
        </div>

      </div>




    </form>
  </div>
  <div class="modal-footer justify-content-center">
    <button style="color: #818cf8;" class="btn  btn-outline btn-lg" (click)="ONSUB()  ;  modal.close('Save click')">Validate</button>
  </div>
</ng-template>

<ng-template #editmodal let-modal>
  <div class="modal-header text-center">
    <h2 class="modal-title w-100" id="modal-basic-title">Edit Member</h2>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="form2">
     

      <div class="row">
        <div class="form-group col-md-6">
          <div class="form-group">
            <label for="cin">Cin</label>
            <input formControlName="cin" type="cin" class="form-control" id="cin">
            <!-- <small *ngIf="ajouterPaiement.get('date').invalid && ajouterPaiement.get('date').touched"
              class="text-danger">La date est obligatoire</small> -->

          </div>
        </div>
        <div class="form-group col-md-6">
          <div class="form-group">
            <label for="nom">Nom</label>
            <input formControlName="nom" type="nom" class="form-control" id="nom">
            <!-- <small *ngIf="ajouterPaiement.get('date_effet').invalid && ajouterPaiement.get('date_effet').touched"
              class="text-danger">La date est obligatoire</small> -->
          </div>
        </div>
        <div class="form-group col-md-6">
          <div class="form-group">
            <label for="prenom">Prenom</label>
            <input formControlName="prenom" type="prenom" class="form-control" id="prenom">
            <!-- <small *ngIf="ajouterPaiement.get('date_effet').invalid && ajouterPaiement.get('date_effet').touched"
              class="text-danger">La date est obligatoire</small> -->
          </div>
        </div>

      </div>


      <div class="row">
        <div class="form-group col-md-6">
          <div class="form-group">
            <label for="cv">Cv</label>
            <input formControlName="cv" type="cv" class="form-control" id="cv">
            <!-- <small *ngIf="ajouterPaiement.get('date').invalid && ajouterPaiement.get('date').touched"
              class="text-danger">La date est obligatoire</small> -->

          </div>
        </div>
        <div class="form-group col-md-6">
          <div class="form-group">
            <label for="email">Email</label>
            <input formControlName="email" type="email" class="form-control" id="email">
            <!-- <small *ngIf="ajouterPaiement.get('date_effet').invalid && ajouterPaiement.get('date_effet').touched"
              class="text-danger">La date est obligatoire</small> -->
          </div>
        </div>

      </div>




    </form>
  </div>
  <div class="modal-footer justify-content-center">
    <button class="btn  btn-outline-success btn-lg" (click)="ONEDIT()  ;  modal.close('Save click')">Validate</button>
  </div>
</ng-template>
  
</div>
</div>

</mat-drawer-content>
</mat-drawer-container> 